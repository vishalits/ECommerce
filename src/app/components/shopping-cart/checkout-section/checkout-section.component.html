<div class="payment">
  <form
    *ngIf="!loadingState"
    #form="ngForm"
    (keypress)="clearError()"
    (ngSubmit)="save(form)"
  >
    <div class="address-form" ngModelGroup="address" #address="ngModelGroup">
      <p class="lead">Personal Info</p>

      <div class="form-group row my-2">
        <div class="split">
          <label for="name">Name</label>
          <input
            #name="ngModel"
            placeholder="Enter your Name"
            ngModel
            name="name"
            type="text"
            id="name"
            class="form-control"
          />
          <!-- <div
            class="alert alert-danger my-2 py-1 text-center"
            *ngIf="name.touched && name.invalid"
          >
            Name is required
          </div> -->
        </div>
        <div class="split">
          <label for="phone">Phone</label>
          <div class="input-group">
            <input
              required
              ngModel
              placeholder="Enter Phone No."
              required
              #phone="ngModel"
              name="phone"
              type="text"
              id="phone"
              class="form-control"
            />
          </div>
        </div>
      </div>

      <div class="form-group row my-2">
        <div class="split">
          <label for="country">Country</label>
          <select
            required
            #country="ngModel"
            ngModel
            name="country"
            id="country"
            class="form-control"
          >
            <option value=""></option>
            <option value="AF">Afghanistan</option>
            <option value="IN">India</option>
            <option value="US">Ubited States</option>
          </select>
        </div>
        <div class="split">
          <label for="state">State</label>
          <select
            required
            #state="ngModel"
            ngModel
            name="state"
            id="state"
            class="form-control"
          >
            <option value=""></option>
            <option value="AS">Assam</option>
            <option value="DL">Delhi</option>
            <option value="UK">Uttarakhand</option>
          </select>
        </div>
      </div>

      <div class="form-group row my-2">
        <div class="split-2">
          <label for="street">Address</label>
          <div class="input-group">
            <input
              ngModel
              required
              placeholder="Address Line 1"
              #street="ngModel"
              name="street"
              type="text"
              id="street"
              class="form-control"
              aria-label="Amount (to the nearest dollar)"
            />
          </div>
        </div>

        <div class="split-3">
          <label for="pincode">Pincode</label>
          <div class="input-group">
            <input
              ngModel
              required
              placeholder="Pincode"
              #pincode="ngModel"
              name="pincode"
              type="text"
              id="pincode"
              class="form-control"
              aria-label="Amount (to the nearest dollar)"
            />
          </div>
        </div>
      </div>
    </div>

    <div
      class="form-section payment-method"
      ngModelGroup="cardInfo"
      #cardInfo="ngModelGroup"
    >
      <p class="lead">Payment Info</p>

      <div class="form-group row my-2">
        <div class="split-6">
          <label for="cardNumber">Card Number</label>
          <div class="input-group">
            <input
              ngModel
              required
              placeholder="2123 - 5647 - 8152"
              #cardNumber="ngModel"
              name="cardNumber"
              type="text"
              id="cardNumber"
              class="form-control"
              aria-label="Amount (to the nearest dollar)"
            />
          </div>
        </div>

        <div class="split-4">
          <label for="expiry">Expiry Date</label>
          <div class="input-group">
            <input
              ngModel
              required
              #expiry="ngModel"
              name="expiry"
              type="date"
              id="expiry"
              class="form-control"
              aria-label="Amount (to the nearest dollar)"
            />
          </div>
        </div>
      </div>

      <div class="form-group row my-2">
        <div class="split-75">
          <label for="cardHolder">Card Holder's Name</label>
          <div class="input-group">
            <input
              ngModel
              placeholder="Enter card holder's name"
              required
              #cardHolder="ngModel"
              name="cardHolder"
              type="text"
              id="cardHolder"
              class="form-control"
            />
          </div>
        </div>
        <div class="split-5">
          <label for="cvv">CVV</label>
          <input
            #cvv="ngModel"
            placeholder="CVV"
            ngModel
            name="cvv"
            type="text"
            id="cvv"
            class="form-control"
            required
          />
        </div>
      </div>

      <!-- <div
        class="my-3 text-center text-secondary form-control"
      >
        More payment options will be available very soon
      </div> -->

      <div *ngIf="!errorMsg" class="mb-0 text-center alert alert-secondary">
        More payment options will be available very soon
      </div>
      <div *ngIf="errorMsg" class="mb-0 text-center alert alert-danger">
        {{ errorMsg }}
      </div>
    </div>
    <button [disabled]="form.invalid" class="btn btn-primary my-2">Save</button>
  </form>
  <div *ngIf="loadingState">
    <app-loading-spinner></app-loading-spinner>
  </div>
</div>
